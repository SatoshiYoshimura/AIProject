#BehavierBaseAiを作る



#登場人物
- NODE
- 実行モード
- 末端ノード
- ルートノード
- 実行可能条件


#メモ
ノード下にはN個のノードがつく
末端ノード以外には実行モードがある
すべてのノードには実行可能条件がある。
ルートノードはフラグ付きならルートノード

#実行モード
- 優先度リスト
- シークエンス
- シークエンシャルルーピング
- Random
- On Off

##実行可能条件の判定はどうやるか
ObjectManagerにセンサーとAIを持たす
AIが実行可能判定時に情報取得要請を出し、取得完了時のDelgateを設定
センサーが情報を取得
取得できたらManagerに取得イベントを流しDelegateを実行

#実行可能条件
Managerがいる。
付け外しが出来るように型を作る。True or Falseを返すメソッド１個だけ実装する。
Ruleとして、trueであれば実行可能。
複数の条件を保持していた場合、全部Trueなら実行可能。
一つでもTrueなら実行可能の二種類。
Managerは、内部に実行可能条件のListを持っており、Andタイプ ORタイプ 
２種類の振る舞いをする
（一個しかないOnceタイプはいらないか）

virtual で作成し、条件クラスをつけ外しするため、判断はそこで行う

判断メソッドをManagerから呼ばれた際に引数でAiDecisionDataをもらう
#末端ノードのみActionとして実行可能





#センサー
各要素のアフォーダンス取得可能機を用意
キャラクターの一定距離にTriggerを設置して、トリガー内に入った際に、取得可能属性のものはその機からアフォーダンスを取得
トリガーから出るまでアフォーダンスは持ち続ける。
アフォーダンスが変更があった際は、アフォーダンス側が、更新要請を投げる。
この辺はUniRXだと楽そうだ。

#シーケンシャルLooping
ループが無限ループになる？一応isLoopingは外部でセットできるが、もっと強力な制御装置必要か？
ゲームで適用してみて考える

